
{% load static %}
<!doctype html>
<html lang="es">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Panel Admin - Usuarios</title>
	<link rel="stylesheet" href="{% static 'CSS/historia_gerontologica.css' %}">
	<link rel="stylesheet" href="{% static 'CSS/lista_usuarios.css' %}">
</head>
<body>
	<div class="container lista-usuarios">
		<h1 class="main-title">Panel de Administración — Usuarios</h1>
		<div class="section-title">Listado de usuarios</div>

		<div style="margin: 18px 0; display:flex; justify-content:space-between; align-items:center; gap:12px;">
			<a href="{% url 'admin_user_create' %}" class="submit-button" style="width:auto; padding:10px 18px;">Crear Usuario</a>
			<a href="{% url 'home' %}" class="submit-button" style="width:auto; padding:10px 18px; background:linear-gradient(135deg,#6b7280 0%,#9ca3af 100%);">Volver</a>
		</div>

		<table>
			<thead>
				<tr>
					<th>ID</th>
					<th>Usuario</th>
					<th>Correo</th>
					<th>Nombre</th>
					<th>Personal</th>
					<th>Superusuario</th>
					<th>Acciones</th>
				</tr>
			</thead>
			<tbody>
				{% for u in users %}
				<tr>
					<td>{{ u.id }}</td>
					<td>{{ u.username }}</td>
					<td>{{ u.email }}</td>
					<td>{{ u.first_name }} {{ u.last_name }}</td>
					<td style="text-align:center">{% if u.is_staff %}Sí{% else %}No{% endif %}</td>
					<td style="text-align:center">{% if u.is_superuser %}Sí{% else %}No{% endif %}</td>
					<td class="actions-cell" style="text-align:center;">
						<div class="action-buttons">
							<a href="{% url 'admin_user_edit' u.id %}" class="submit-button submit-button--small submit-button--update" title="Actualizar">
								<svg class="action-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M5 13l4 4L19 7" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
								<span class="visually-hidden">Actualizar</span>
							</a>
							<a href="{% url 'admin_user_edit' u.id %}" class="submit-button submit-button--small submit-button--edit" title="Editar">
								<svg class="action-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" fill="#fff"/></svg>
								<span class="visually-hidden">Editar</span>
							</a>
							<a href="{% url 'admin_user_delete' u.id %}" class="submit-button submit-button--small submit-button--delete" title="Borrar">
								<svg class="action-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M3 6h18" stroke="#fff" stroke-width="2" stroke-linecap="round"/><path d="M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/><path d="M10 11v6M14 11v6" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
								<span class="visually-hidden">Borrar</span>
							</a>
						</div>
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</body>
</html>
